<div class="modal-header bg-light">
  <h2 class="modal-title smaller" id="modal-title">
    Choose a file to download
  </h2>
  <button
    type="button"
    class="btn-close"
    aria-describedby="modal-title"
    (click)="modal.dismiss('Cross click')"
  ></button>
</div>
<div class="modal-body text-center">
  <div class="btn-group me-3" style="width: 100%">
    <button type="button" class="btn btn-outline-secondary">
      {{ selectedFileformat }}
    </button>
    <div ngbDropdown class="btn-group">
      <button
        type="button"
        class="btn btn-outline-secondary dropdown-toggle-split"
        id="file-format"
        ngbDropdownToggle
      ></button>
      <div ngbDropdownMenu aria-labelledby="file to download">
        <button
          type="button"
          ngbDropdownItem
          *ngFor="let fileFormat of fileFormats"
          (click)="setFileFormat(fileFormat)"
        >
          {{ fileFormat }}
        </button>
      </div>
    </div>
  </div>
</div>
<div class="modal-footer text-center">
  <a>
    <button
      type="button"
      ngbAutofocus
      class="btn btn-primary"
      (click)="downloadFile()"
      *ngIf="!downloading"
    >
      Download
    </button>
  </a>
  <ngx-spinner
    name="downloader"
    bdColor="rgba(51,51,51,0.8)"
    size="medium"
    color="#FFF;"
  >
    <p class="text-center download_spinner">Downloading...</p>
    <div class="progress">
      <div
        class="progress-bar"
        role="progressbar"
        style="width: {{download_progress }}%"
        aria-valuenow="0"
        aria-valuemin="0"
        aria-valuemax="100"
      ></div>
    </div>
    <span class="download_spinner"> {{download_progress }}%</span>
  </ngx-spinner>
</div>
